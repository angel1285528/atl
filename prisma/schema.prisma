//schema.prisma

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url = env("POSTGRES_PRISMA_URL") // uses connection pooling
    directUrl = env("POSTGRES_URL_NON_POOLING") //uses a direct connection
}

model socio {
    id String @default(cuid()) @id 
    firstName String
    lastName String
    secondLastName String?
    email String
    phoneNumber String
    work String?
    scholarity String?
    urlSocioPhoto String?
    urlSocioIne String?
    rol Role @default(socio)
    status StatusSocios @default(Activo)
    fechaRegistro DateTime @default(now()) 
     familiares familiares[]
  //  jugador jugador[]
}


enum StatusSocios {
    Activo
    Ausente
    Inactivo
    }

model jugador {
    jugador_id Int @id @default(autoincrement())
    name String
    curp String
    fecha_nacimiento DateTime @db.Date
    municipio_nacimiento String @default("Linares")
    estado_nacimiento String @default("Nuevo Le√≥n")
    pais_nacimienot String @default("Mexico")
    cuota Cuota @default(Estandar)
    status Status_Jugador
    fingerprint Bytes
   
    //socio socio @relation(fields: [socio_id],references: [id])
    //socio_id Int @unique

}

model familiares {
   familyId String @id @default(cuid())
   familyFirstName String
   familyLastName String
   familySecondLastName String?
   familyPhoneNumber String
   familyEmail String?
   familyRelationship  Relationship
    socioId        String   // Clave externa para referenciar socio
    socio          socio    @relation(fields: [socioId], references: [id])
    //socio socio @relation(fields: [family_id], references: [id])
    //socio_id Int @unique
}   

enum Relationship {
    Padre
    Madre
    Hermano
    Tio
    Abuelo
    Otro
    }
enum Role {
    socio
    jugador
    entrenador
    admin
}

enum Cuota {
    Estandar
    Hermano_Menor
    Preferencial
    Cortesia
}

enum Status_Jugador {
    activo
    baja
    lesionado
    baja_temporal
    }